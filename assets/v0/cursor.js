document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".cursor-crosshair_wrap").forEach(e=>{if(e.dataset.scriptInitialized)return;e.dataset.scriptInitialized="true",e.querySelectorAll(".cursor-crosshair_line, .cursor-crosshair_dot, .cursor-crosshair_dot-top, .cursor-crosshair_pulse").forEach(e=>{try{e.remove()}catch{}});let t=e.querySelector(".cursor-follow_box");t||(t=document.createElement("div"),t.className="cursor-follow_box",e.appendChild(t));let n=e.getBoundingClientRect();const i=()=>{n=e.getBoundingClientRect()},o=new ResizeObserver(i);o.observe(e),addEventListener("scroll",i,{passive:!0});const r=.18;let a=n.width/2,l=n.height/2,s=a,d=l;const c=()=>!!(window.gsap&&gsap.quickSetter&&gsap.ticker);let u=!1,m,f;function p(){u=!1,m=e=>{t.style.transform=`translate(${e}px, ${d}px)`},f=e=>{t.style.transform=`translate(${s}px, ${e}px)`},t.style.transform=`translate(${s}px, ${d}px)`}function h(){u=!0,m=gsap.quickSetter(t,"x","px"),f=gsap.quickSetter(t,"y","px"),m(s),f(d)}c()?h():p();let v=0,y=!1,g=!1,S=.05,b=3,w=0;const E=()=>{const e=l-s,t=a-d;s+=e*r,d+=t*r,m(s),f(d),Math.abs(e)<S&&Math.abs(t)<S?++w>=b?(x(),void 0):void 0:w=0,u|| (v=requestAnimationFrame(E))};function L(){g&&(g=!1,w=0),y||(y=!0,c()?(u||h(),gsap.ticker.add(E)):(v=requestAnimationFrame(E)))}function x(){y&&(y=!1,g=!0,u&&window.gsap&&gsap.ticker.remove(E),v&&(cancelAnimationFrame(v),v=0))}function A(t){n.width&&n.height||i(),l=t.clientX-n.left,a=t.clientY-n.top,L()}addEventListener("pointermove",A,{passive:!0}),addEventListener("pointerenter",A,{passive:!0}),document.addEventListener("mouseleave",function(t){if("touch"===t.pointerType)return;const o=null==t.relatedTarget,r=t.clientX<=0||t.clientY<=0||t.clientX>=innerWidth||t.clientY>=innerHeight;(o||r)&&(i(),l=n.width/2,a=n.height/2,L())},!0),document.addEventListener("mouseout",function(t){if("touch"===t.pointerType)return;const o=null==t.relatedTarget,r=t.clientX<=0||t.clientY<=0||t.clientX>=innerWidth||t.clientY>=innerHeight;(o||r)&&(i(),l=n.width/2,a=n.height/2,L())},!0),document.addEventListener("pointerout",function(t){if("touch"===t.pointerType)return;const o=null==t.relatedTarget,r=t.clientX<=0||t.clientY<=0||t.clientX>=innerWidth||t.clientY>=innerHeight;(o||r)&&(i(),l=n.width/2,a=n.height/2,L())},!0);const O=()=>{document.hidden?x():L()};document.addEventListener("visibilitychange",O),x(),addEventListener("load",()=>{u||c()&&h()},{once:!0});const T=new MutationObserver(()=>{document.body.contains(e)||(x(),document.removeEventListener("visibilitychange",O),o.disconnect(),T.disconnect())});T.observe(document.body,{childList:!0,subtree:!0})})});
